<div class="modal fade" id="share-collection">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Share Tapedeck</h4>
      </div>
      <div class="modal-body">

        <div class='share-url'>
          <h5><%= collection_url(@collection) %></h5>
        </div>

        <div class='share-button'>
          <div class="fb-share-button" data-href="<%= collection_url(@collection) %>" data-layout="button" data-size="large" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="">Share</a></div>
        </div>

        <div class='share-button'>
          <a href="https://twitter.com/share" class="twitter-share-button" data-text="<%= @collection.title %>" data-show-count="false" data-size="large">Tweet</a>
          <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
        </div>

        <div>
          <h5><%= fa_icon 'instagram' %> Instagram (screenshot this image, reload to regenerate)</h5>
          <%= render 'collections/preview', collection: @collection %>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.8&appId=1114531281974828";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
</script>
